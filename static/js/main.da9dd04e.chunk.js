(this.webpackJsonpspreact=this.webpackJsonpspreact||[]).push([[0],{38:function(e,t,n){},64:function(e,t,n){"use strict";n.r(t);var a=n(1),s=n.n(a),i=n(30),c=n.n(i),l=n(13),o=n(6),r=n(7),d=n(12),h=n(11),u=n(2),b=(n(37),n(38),n(16)),j=n(4),p=n(31),m=n.n(p).a.create({baseURL:"https://sproner.herokuapp.com/api",headers:{"Content-type":"application/json"}}),O=new(function(){function e(){Object(o.a)(this,e)}return Object(r.a)(e,[{key:"getAll",value:function(){return m.get("/song")}},{key:"create",value:function(e){return m.post("/song",e)}},{key:"findByTitle",value:function(e){return m.get("/song?title=".concat(e))}},{key:"delete",value:function(e){return m.delete("/song/".concat(e))}},{key:"get",value:function(e){return m.get("/song/".concat(e))}},{key:"update",value:function(e,t){return m.put("/song/".concat(e),t)}}]),e}()),x=n(0),g=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).anotherSong=a.anotherSong.bind(Object(j.a)(a)),a.saveSong=a.saveSong.bind(Object(j.a)(a)),a.handleInputChange=a.handleInputChange.bind(Object(j.a)(a)),a.state={id:null,title:"",description:"",publishedOn:"",duration:"",video:"",author:"",submitted:!1},a}return Object(r.a)(n,[{key:"handleInputChange",value:function(e){var t=e.target,n=t.value,a=t.name;this.setState(Object(b.a)({},a,n))}},{key:"anotherSong",value:function(){this.setState({id:null,title:"",description:"",publishedOn:"",duration:"",video:"",author:"",submitted:!1})}},{key:"saveSong",value:function(){var e=this,t={title:this.state.title,description:this.state.description,publishedOn:this.state.publishedOn,duration:this.state.duration,video:this.state.video,author:this.state.author};O.create(t).then((function(t){e.setState({id:t.data.id,title:t.data.title,description:t.data.description,publishedOn:t.data.publishedOn,duration:t.data.duration,video:t.data.video,author:t.data.author,submitted:!0}),console.log(t.data)})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return Object(x.jsx)("div",{className:"container mt-3",children:Object(x.jsx)("div",{className:"submit-form",children:this.state.submitted?Object(x.jsxs)("div",{children:[Object(x.jsx)("h4",{children:" You have submitted succesfully!"}),Object(x.jsx)("button",{className:"btn btn-success",onClick:this.anotherSong,children:"Add another"})]}):Object(x.jsxs)("div",{children:[Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{htmlFor:"title",children:"Title of the song:"}),Object(x.jsx)("input",{type:"text",className:"form-control",id:"title",required:!0,value:this.state.title,onChange:this.handleInputChange,placeholder:"Write the song's title",name:"title"})]}),Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{htmlFor:"description",children:"Lyrics:"}),Object(x.jsx)("textarea",{className:"form-control",id:"descripcion",required:!0,value:this.state.description,onChange:this.handleInputChange,name:"description",rows:"5",placeholder:"Write the song's lyrics"})]}),Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{for:"musicVideo",class:"form-label",children:"Youtube video:"}),Object(x.jsx)("input",{type:"url",class:"form-control",name:"video",id:"musicVideo",value:this.state.video,onChange:this.handleInputChange,placeholder:"https://www.youtube.com/watch?v=bR6lbN40-Ho"})]}),Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{for:"musicSinger",class:"form-label",children:"Singer or band name:"}),Object(x.jsx)("input",{type:"text",class:"form-control",name:"author",id:"musicSinger",value:this.state.author,onChange:this.handleInputChange,placeholder:"The strokes"})]}),Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{htmlFor:"publishedOn",children:"Published on (yyyy-mm):"}),Object(x.jsx)("input",{className:"form-control",type:"month",id:"publishedOn",name:"publishedOn",pattern:"[0-9]{4}-[0-9]{2}",value:this.state.publishedOn,onChange:this.handleInputChange,placeholder:"2012-10"})]}),Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{htmlFor:"duration",children:"Duration (hh:mm:ss):"}),Object(x.jsx)("input",{className:"form-control",type:"text",id:"duration",name:"duration",pattern:"([0-9]{2}:)?[0-9]{2}:[0-9]{2}",value:this.state.duration,onChange:this.handleInputChange,placeholder:"00:03:30"})]}),Object(x.jsx)("button",{className:"btn btn-success",onClick:this.saveSong,children:"Submit"})]})})})}}]),n}(a.Component),v=(n(58),function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).onChangeSearchTitle=a.onChangeSearchTitle.bind(Object(j.a)(a)),a.retrieveSongs=a.retrieveSongs.bind(Object(j.a)(a)),a.refreshList=a.refreshList.bind(Object(j.a)(a)),a.searchTitle=a.searchTitle.bind(Object(j.a)(a)),a.deleteSong=a.deleteSong.bind(Object(j.a)(a)),a.state={songs:[],searchTitle:""},a}return Object(r.a)(n,[{key:"componentDidMount",value:function(){this.retrieveSongs()}},{key:"deleteSong",value:function(e){var t=this;O.delete(e).then((function(e){console.log(e.data),t.refreshList()})).catch((function(e){console.log(e)}))}},{key:"retrieveSongs",value:function(){var e=this;O.getAll().then((function(t){console.log("Se invoco de nuevo el obtener los songs"),e.setState({songs:t.data}),console.log(t.data),console.log("Esos fueron los datos de los songs")})).catch((function(e){console.log(e)}))}},{key:"refreshList",value:function(){this.retrieveSongs()}},{key:"onChangeSearchTitle",value:function(e){var t=e.target.value;this.setState({searchTitle:t})}},{key:"searchTitle",value:function(){var e=this;O.findByTitle(this.state.searchTitle).then((function(t){e.setState({songs:t.data}),console.log(t.data)})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this.state,t=e.searchTitle,n=e.songs;return Object(x.jsxs)("div",{className:"container mt-3",children:[Object(x.jsxs)("div",{className:"input-group mb-3",children:[Object(x.jsx)("input",{type:"text",className:"form-control",placeholder:"Search by title",value:t,onChange:this.onChangeSearchTitle}),Object(x.jsx)("div",{className:"input-group-append",children:Object(x.jsx)("button",{className:"btn btn-outline-secondary",type:"button",onClick:this.searchTitle,children:"Search"})})]}),Object(x.jsx)("h4",{children:"Songs List"}),this.state.songs?Object(x.jsx)("div",{className:"table-responsive",children:Object(x.jsxs)("table",{className:"table table-dark table-hover",style:{tableLayout:"fixed"},children:[Object(x.jsx)("thead",{children:Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{scope:"col",style:{width:"5%"},children:"#"}),Object(x.jsx)("th",{scope:"col",children:"Song"}),Object(x.jsx)("th",{scope:"col",style:{width:"35%"},children:"Lyrics"}),Object(x.jsx)("th",{scope:"col",children:"Published on"}),Object(x.jsx)("th",{scope:"col",children:"Duration"}),Object(x.jsx)("th",{scope:"col",children:"Actions"})]})}),Object(x.jsx)("tbody",{children:n&&n.map((function(e,t){return Object(x.jsxs)("tr",{children:[Object(x.jsxs)("th",{scope:"row",children:[" ",t+1," "]}),Object(x.jsx)("td",{children:e.title}),Object(x.jsx)("td",{className:"text-truncate",children:e.description}),Object(x.jsx)("td",{children:e.publishedOn}),Object(x.jsx)("td",{children:e.duration}),Object(x.jsx)("td",{children:Object(x.jsx)(l.b,{to:"/songs/"+e.id,children:Object(x.jsx)("i",{className:"fas fa-eye fa-2x",style:{color:"white"}})})})]},t)}))})]})}):Object(x.jsxs)("div",{children:[Object(x.jsx)("h5",{children:"Content not found :( "}),Object(x.jsx)("p",{children:"You can add more content using add+"})]})]})}}]),n}(a.Component)),f=function(e){var t=e.edit,n=e.song,a=e.editFunction,i=e.updateSong,c=e.handleInputChange;return t?Object(x.jsx)("div",{className:"container mt-3",children:Object(x.jsxs)("form",{className:"card text-center",children:[Object(x.jsxs)("div",{className:"card-header bg-dark",children:[Object(x.jsx)("label",{htmlFor:"songTitle",className:"text-center text-white lead",children:"Title"}),Object(x.jsx)("input",{className:"form-control w-100",placeholder:"Introduce the new song's title",value:n.title,style:{margin:"0 auto"},onChange:c,id:"songTitle",name:"title"})]}),Object(x.jsxs)("div",{className:"card-body",children:[Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{htmlFor:"songLyrics",className:"card-title",children:"New lyrics:"}),Object(x.jsx)("textarea",{className:"form-control card-text w-100",value:n.description,style:{margin:"0 auto"},rows:"5",placeholder:"Add new lyrics or modify the existent!",onChange:c,id:"songLyrics",name:"description"})]}),Object(x.jsxs)("div",{class:"mb-2",children:[Object(x.jsx)("label",{for:"musicVideo",class:"form-label",children:"Youtube video:"}),Object(x.jsx)("input",{type:"url",class:"form-control",name:"video",id:"musicVideo",value:n.video,onChange:c,placeholder:"https://www.youtube.com/watch?v=bR6lbN40-Ho"})]}),Object(x.jsxs)("div",{class:"mb-3",children:[Object(x.jsx)("label",{for:"musicSinger",class:"form-label",children:"Singer or band name:"}),Object(x.jsx)("input",{type:"text",class:"form-control",name:"author",id:"musicSinger",value:n.author,onChange:c,placeholder:"The strokes"})]}),Object(x.jsxs)("div",{className:"input-group w-100 mb-3",style:{margin:"0 auto"},children:[Object(x.jsx)("label",{htmlFor:"publisheOn",className:"input-group-text bg-dark text-white",id:"label-published",children:"Published on (yyyy-mm)"}),Object(x.jsx)("input",{type:"month",className:"form-control",placeholder:"Update the song release","aria-describedby":"label-published",id:"publishedOn",name:"publishedOn",pattern:"[0-9]{4}-[0-9]{2}",onChange:c,value:n.publishedOn})]}),Object(x.jsxs)("div",{className:"input-group w-100 mb-3",style:{margin:"0 auto"},children:[Object(x.jsx)("label",{htmlFor:"duration",className:"input-group-text bg-dark text-white",id:"label-duration",children:"Duration (hh:mm:ss)"}),Object(x.jsx)("input",{type:"text",className:"form-control",placeholder:"Update the song duration","aria-describedby":"label-duration",id:"duration",name:"duration",pattern:"[0-9]?[0-9]?:?[0-9]?[0-9]:[0-9]{2}",onChange:c,value:n.duration})]})]}),Object(x.jsx)("div",{className:"card-footer border-secondary",children:Object(x.jsxs)("div",{className:"btn-group",role:"group","aria-label":"Song control",children:[Object(x.jsxs)("button",{type:"button",onClick:a,className:"btn btn-outline-danger text-center d-flex fa-1x align-self-center",children:[Object(x.jsx)("i",{className:"fas fa-undo d-flex align-self-center p-1"}),"Cancel"]}),Object(x.jsxs)("button",{type:"button",onClick:i,className:"btn btn-outline-primary text-center d-flex fa-1x align-self-center",children:[Object(x.jsx)("i",{className:"fas fa-upload d-flex align-self-center p-1"}),"Update"]})]})})]})}):Object(x.jsxs)("div",{className:"container mt-3",children:[Object(x.jsxs)("div",{className:"card text-center",children:[Object(x.jsx)("h3",{className:"card-header lead text-white bg-dark",children:n.title}),Object(x.jsxs)("div",{className:"card-body",children:[Object(x.jsx)("h5",{className:"card-title",children:"Lyrics:"}),Object(x.jsx)("p",{className:"card-text",children:Object(x.jsx)("em",{style:{whiteSpace:"pre-wrap"},children:n.description})}),Object(x.jsxs)("p",{className:"card-text",children:[Object(x.jsx)("strong",{children:"Author:"})," ",n.author]}),Object(x.jsxs)("p",{className:"card-text",children:[Object(x.jsx)("strong",{children:"Published on:"})," ",n.publishedOn]}),Object(x.jsxs)("p",{className:"card-text",children:[Object(x.jsx)("strong",{children:"Duration:"})," ",n.duration]})]}),Object(x.jsx)("div",{className:"card-footer border-secondary",children:Object(x.jsxs)("div",{className:"btn-group",role:"group","aria-label":"Song control",children:[Object(x.jsx)("button",{type:"button",className:"btn btn-outline-danger",children:Object(x.jsx)("i",{className:"fas fa-trash fa-2x"})}),Object(x.jsx)("button",{onClick:a,type:"button",className:"btn btn-outline-success",children:Object(x.jsx)("i",{className:"fas fa-edit fa-2x"})})]})})]}),null!==n.video&&""!==n.video?Object(x.jsx)("div",{class:"embed-responsive embed-responsive-16by9 mt-3",children:Object(x.jsx)("iframe",{title:"Music for the song "+n.title,class:"embed-responsive-item",src:"https://www.youtube-nocookie.com/embed/".concat(n.video.split("=")[1])})}):Object(x.jsxs)(s.a.Fragment,{children:[Object(x.jsx)("h1",{children:"There is no video attached! "}),Object(x.jsx)("h2",{children:"Add one editing this song."})]})]})},y=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).retrieveSong=a.retrieveSong.bind(Object(j.a)(a)),a.updateSong=a.updateSong.bind(Object(j.a)(a)),a.editSong=a.editSong.bind(Object(j.a)(a)),a.handleInputChange=a.handleInputChange.bind(Object(j.a)(a)),a.state={id:e.match.params.id,title:null,description:null,publishedOn:null,duration:null,video:null,author:null,edit:!1},a}return Object(r.a)(n,[{key:"componentDidMount",value:function(){this.retrieveSong(this.state.id)}},{key:"updateSong",value:function(){var e=this,t={id:this.state.id,title:this.state.title,description:this.state.description,publishedOn:this.state.publishedOn,duration:this.state.duration,video:this.state.video,author:this.state.author};O.update(this.state.id,t).then((function(e){console.log("La respuesta de la api:"),console.log(e.data)})).catch((function(e){console.log("Valio, no se pudo actualizar"),console.log(e)})).finally((function(){e.retrieveSong(t.id),e.setState({edit:!1})}))}},{key:"handleInputChange",value:function(e){var t=e.target,n=t.value,a=t.name;this.setState(Object(b.a)({},a,n))}},{key:"editSong",value:function(){this.state.edit?this.setState({edit:!1}):this.setState({edit:!0})}},{key:"retrieveSong",value:function(e){var t=this;O.get(e).then((function(e){t.setState({id:e.data.id,title:e.data.title,description:e.data.description,publishedOn:e.data.publishedOn,duration:e.data.duration,video:e.data.video,author:e.data.author})})).catch((function(e){console.log(e),console.log("No se encontro xd, poner a null lo demas"),t.setState({id:t.props.match.params.id,title:null,description:null,publishedOn:null,duration:null,video:null,author:null,edit:!1})}))}},{key:"render",value:function(){var e=this.state;return Object(x.jsx)("div",{children:null!==e.title?Object(x.jsx)(f,{edit:e.edit,song:e,handleInputChange:this.handleInputChange,updateSong:this.updateSong,editFunction:this.editSong}):Object(x.jsx)("h2",{children:"The song you request doesn't exist!"})})}}]),n}(a.Component),N=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){return Object(x.jsxs)("nav",{className:"navbar navbar-expand navbar-dark bg-dark",children:[Object(x.jsx)(l.b,{to:"/",className:"navbar-brand",children:"Spreact!"}),Object(x.jsxs)("div",{className:"navbar-nav mr-auto",children:[Object(x.jsx)("li",{className:"nav-item",children:Object(x.jsx)(l.b,{to:"/songs",className:"nav-link",children:"Songs"})}),Object(x.jsx)("li",{className:"nav-item",children:Object(x.jsx)(l.b,{to:"/add",className:"nav-link",children:"Add+"})})]})]})}}]),n}(a.Component),S=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"componentDidMount",value:function(){console.log("Cambiando el stylo del index"),document.getElementById("root").className="bg-dark text-white"}},{key:"componentWillUnmount",value:function(){document.getElementById("root").className="bg-white text-dark"}},{key:"render",value:function(){return Object(x.jsx)("main",{children:Object(x.jsx)("section",{className:"py-5 text-center container min-vh-100",children:Object(x.jsx)("div",{className:"row py-lg-5",children:Object(x.jsxs)("div",{className:"col-lg-6 col-md-8 mx-auto",children:[Object(x.jsx)("h1",{className:"display-3 p-4",children:"Spreact"}),Object(x.jsx)("p",{className:"lead p-0 m-0",children:"A karaoke like webapp done with React.js. You can add your favorite song's lyrics and the video associated with it."}),Object(x.jsx)("p",{className:"lead p-4",children:"So you can sing while you listen to it!"}),Object(x.jsx)("p",{className:"lead p-0 m-0",children:Object(x.jsx)(l.b,{to:"/add",className:"btn btn-outline-light text-center",children:Object(x.jsx)("i",{className:"fas fa-plus d-flex align-self-center p-1"})})})]})})})})}}]),n}(a.Component),k=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){return Object(x.jsxs)(s.a.Fragment,{children:[Object(x.jsx)(N,{}),Object(x.jsxs)(u.c,{children:[Object(x.jsx)(u.a,{exact:!0,path:["/","/home"],children:Object(x.jsx)(S,{})}),Object(x.jsx)(u.a,{exact:!0,path:"/songs",component:v}),Object(x.jsx)(u.a,{exact:!0,path:"/add",component:g}),Object(x.jsx)(u.a,{path:"/songs/:id",component:y})]})]})}}]),n}(a.Component);c.a.render(Object(x.jsx)(l.a,{basename:"/Sproner-React",children:Object(x.jsx)(k,{})}),document.getElementById("root"))}},[[64,1,2]]]);
//# sourceMappingURL=main.da9dd04e.chunk.js.map